{"ast":null,"code":"// // src/pages/BookingPage.jsx\n// import React, { useEffect, useState } from 'react';\n// import { useParams, useNavigate } from 'react-router-dom';\n// import API from '../utils/axios';\n\n// const BookingPage = () => {\n//   const { providerId } = useParams();\n//   const navigate = useNavigate();\n\n//   const [provider, setProvider] = useState(null);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState('');\n//   const [appointmentDate, setAppointmentDate] = useState('');\n//   const [appointmentTime, setAppointmentTime] = useState('');\n//   const [description, setDescription] = useState('');\n//   const [alert, setAlert] = useState('');\n\n//   useEffect(() => {\n//     const fetchProvider = async () => {\n//       try {\n//         const res = await API.get(`/providers/${providerId}`);\n//         setProvider(res.data);\n//         setError('');\n//       } catch (err) {\n//         console.error(err);\n//         setError('Failed to load provider details');\n//       } finally {\n//         setLoading(false);\n//       }\n//     };\n\n//     fetchProvider();\n//   }, [providerId]);\n\n//   const handleBooking = async (e) => {\n//     e.preventDefault();\n\n//     if (!appointmentDate || !appointmentTime) {\n//       setAlert('âš ï¸ Please select a valid date and time.');\n//       return;\n//     }\n\n//     try {\n//       const combinedDate = new Date(`${appointmentDate}T${appointmentTime}`);\n//       await API.post('/bookings', {\n//         providerId: provider._id,\n//         date: combinedDate.toISOString(),\n//         description:  description || `Booking for ${provider.category || 'service'}`\n//       });\n\n//       setAlert(' Booking successful! Redirecting...');\n//       setTimeout(() => {\n//         navigate('/user/dashboard');\n//       }, 1000);\n//     } catch (err) {\n//       console.error(err);\n//       setAlert(' Failed to create booking.');\n//     }\n//   };\n\n//   if (loading) return <div className=\"container py-5\">Loading provider...</div>;\n//   if (error) return <div className=\"container py-5 alert alert-danger\">{error}</div>;\n\n//   return (\n//     <div className=\"container py-5\">\n//       <h2>Book an Appointment with {provider.userId?.name || 'Provider'}</h2>\n//       {alert && <div className=\"alert alert-info\">{alert}</div>}\n\n//       <div className=\"card shadow-sm p-4 mt-4\">\n//         <h5>Service: {provider.category}</h5>\n//         <p>Location: {provider.location}</p>\n//         <p>Contact: {provider.contact}</p>\n//         {/* <p>Description: {provider.description}</p> */}\n\n//         <form onSubmit={handleBooking}>\n//           <div className=\"mb-3\">\n//             <label className=\"form-label\">Select Date</label>\n//             <input\n//               type=\"date\"\n//               className=\"form-control\"\n//               value={appointmentDate}\n//               onChange={(e) => setAppointmentDate(e.target.value)}\n//               required\n//             />\n//           </div>\n\n//           <div className=\"mb-3\">\n//             <label className=\"form-label\">Select Time</label>\n//             <input\n//               type=\"time\"\n//               className=\"form-control\"\n//               value={appointmentTime}\n//               onChange={(e) => setAppointmentTime(e.target.value)}\n//               required\n//             />\n//           </div>\n//           <div className=\"mb-3\">\n//   <label className=\"form-label\">Description</label>\n//   <textarea\n//     className=\"form-control\"\n//     rows=\"3\"\n//     placeholder=\"Enter description for your booking...\"\n//     value={description}\n//     onChange={(e) => setDescription(e.target.value)}\n//   ></textarea>\n// </div>\n\n//           <button type=\"submit\" className=\"btn btn-primary\">Book Appointment</button>\n//         </form>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default BookingPage;\n\n// src/pages/BookingPage.jsx\n// import React, { useEffect, useState } from 'react';\n// import { useParams, useNavigate } from 'react-router-dom';\n// import API from '../utils/axios';\n\n// const BookingPage = () => {\n//   const { providerId } = useParams();\n//   const navigate = useNavigate();\n\n//   const [provider, setProvider] = useState(null);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState('');\n//   const [appointmentDate, setAppointmentDate] = useState('');\n//   const [appointmentTime, setAppointmentTime] = useState('');\n//   const [description, setDescription] = useState('');\n//   const [alert, setAlert] = useState('');\n\n//   useEffect(() => {\n//     const fetchProvider = async () => {\n//       try {\n//         const res = await API.get(`/providers/${providerId}`);\n//         setProvider(res.data);\n//         setError('');\n//       } catch (err) {\n//         console.error(err);\n//         setError('Failed to load provider details');\n//       } finally {\n//         setLoading(false);\n//       }\n//     };\n\n//     fetchProvider();\n//   }, [providerId]);\n\n//   const handleBooking = async (e) => {\n//     e.preventDefault();\n\n//     if (!appointmentDate || !appointmentTime) {\n//       setAlert('âš ï¸ Please select a valid date and time.');\n//       return;\n//     }\n\n//     try {\n//       const combinedDate = new Date(`${appointmentDate}T${appointmentTime}`);\n//       await API.post('/bookings', {\n//         providerId: provider._id,\n//         date: combinedDate.toISOString(),\n//         description:  description || `Booking for ${provider.category || 'service'}`\n//       });\n\n//       setAlert(' Booking successful! Redirecting...');\n//       setTimeout(() => {\n//         navigate('/user/dashboard');\n//       }, 1000);\n//     } catch (err) {\n//       console.error(err);\n//       setAlert(' Failed to create booking.');\n//     }\n//   };\n\n//   if (loading) return <div className=\"container py-5\">Loading provider...</div>;\n//   if (error) return <div className=\"container py-5 alert alert-danger\">{error}</div>;\n\n//   return (\n//     <div className=\"container py-5\">\n//       <h2>Book an Appointment with {provider.userId?.name || 'Provider'}</h2>\n//       {alert && <div className=\"alert alert-info\">{alert}</div>}\n\n//       <div className=\"card shadow-sm p-4 mt-4\">\n//         <h5>Service: {provider.category}</h5>\n//         <p>Location: {provider.location}</p>\n//         <p>Contact: {provider.contact}</p>\n//         {/* <p>Description: {provider.description}</p> */}\n\n//         <form onSubmit={handleBooking}>\n//           {/* <div className=\"mb-3\">\n//             <label className=\"form-label\">Select Date</label>\n//             <input\n//               type=\"date\"\n//               className=\"form-control\"\n//               value={appointmentDate}\n//               onChange={(e) => setAppointmentDate(e.target.value)}\n//               required\n//             />\n//           </div> */}\n\n//           <div className=\"mb-3\">\n//   <label className=\"form-label\">Select Date</label>\n//   <input\n//     type=\"date\"\n//     className=\"form-control\"\n//     value={appointmentDate}\n//     onChange={(e) => setAppointmentDate(e.target.value)}\n//     min={new Date().toISOString().split(\"T\")[0]} // ðŸš€ Prevent selecting past dates\n//     required\n//   />\n// </div>\n\n//           <div className=\"mb-3\">\n//             <label className=\"form-label\">Select Time</label>\n//             <input\n//               type=\"time\"\n//               className=\"form-control\"\n//               value={appointmentTime}\n//               onChange={(e) => setAppointmentTime(e.target.value)}\n//               required\n//             />\n//           </div>\n//           <div className=\"mb-3\">\n//   <label className=\"form-label\">Description</label>\n//   <textarea\n//     className=\"form-control\"\n//     rows=\"3\"\n//     placeholder=\"Enter description for your booking...\"\n//     value={description}\n//     onChange={(e) => setDescription(e.target.value)}\n//   ></textarea>\n// </div>\n\n//           <button type=\"submit\" className=\"btn btn-primary\">Book Appointment</button>\n//         </form>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default BookingPage;","map":{"version":3,"names":[],"sources":["C:/Users/princ/OneDrive/Desktop/NearbyHelper/frontend/src/pages/BookingPage.jsx"],"sourcesContent":["// // src/pages/BookingPage.jsx\r\n// import React, { useEffect, useState } from 'react';\r\n// import { useParams, useNavigate } from 'react-router-dom';\r\n// import API from '../utils/axios';\r\n\r\n// const BookingPage = () => {\r\n//   const { providerId } = useParams();\r\n//   const navigate = useNavigate();\r\n\r\n//   const [provider, setProvider] = useState(null);\r\n//   const [loading, setLoading] = useState(true);\r\n//   const [error, setError] = useState('');\r\n//   const [appointmentDate, setAppointmentDate] = useState('');\r\n//   const [appointmentTime, setAppointmentTime] = useState('');\r\n//   const [description, setDescription] = useState('');\r\n//   const [alert, setAlert] = useState('');\r\n\r\n//   useEffect(() => {\r\n//     const fetchProvider = async () => {\r\n//       try {\r\n//         const res = await API.get(`/providers/${providerId}`);\r\n//         setProvider(res.data);\r\n//         setError('');\r\n//       } catch (err) {\r\n//         console.error(err);\r\n//         setError('Failed to load provider details');\r\n//       } finally {\r\n//         setLoading(false);\r\n//       }\r\n//     };\r\n\r\n//     fetchProvider();\r\n//   }, [providerId]);\r\n\r\n//   const handleBooking = async (e) => {\r\n//     e.preventDefault();\r\n\r\n//     if (!appointmentDate || !appointmentTime) {\r\n//       setAlert('âš ï¸ Please select a valid date and time.');\r\n//       return;\r\n//     }\r\n\r\n//     try {\r\n//       const combinedDate = new Date(`${appointmentDate}T${appointmentTime}`);\r\n//       await API.post('/bookings', {\r\n//         providerId: provider._id,\r\n//         date: combinedDate.toISOString(),\r\n//         description:  description || `Booking for ${provider.category || 'service'}`\r\n//       });\r\n\r\n//       setAlert(' Booking successful! Redirecting...');\r\n//       setTimeout(() => {\r\n//         navigate('/user/dashboard');\r\n//       }, 1000);\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       setAlert(' Failed to create booking.');\r\n//     }\r\n//   };\r\n\r\n//   if (loading) return <div className=\"container py-5\">Loading provider...</div>;\r\n//   if (error) return <div className=\"container py-5 alert alert-danger\">{error}</div>;\r\n\r\n//   return (\r\n//     <div className=\"container py-5\">\r\n//       <h2>Book an Appointment with {provider.userId?.name || 'Provider'}</h2>\r\n//       {alert && <div className=\"alert alert-info\">{alert}</div>}\r\n\r\n//       <div className=\"card shadow-sm p-4 mt-4\">\r\n//         <h5>Service: {provider.category}</h5>\r\n//         <p>Location: {provider.location}</p>\r\n//         <p>Contact: {provider.contact}</p>\r\n//         {/* <p>Description: {provider.description}</p> */}\r\n\r\n//         <form onSubmit={handleBooking}>\r\n//           <div className=\"mb-3\">\r\n//             <label className=\"form-label\">Select Date</label>\r\n//             <input\r\n//               type=\"date\"\r\n//               className=\"form-control\"\r\n//               value={appointmentDate}\r\n//               onChange={(e) => setAppointmentDate(e.target.value)}\r\n//               required\r\n//             />\r\n//           </div>\r\n\r\n//           <div className=\"mb-3\">\r\n//             <label className=\"form-label\">Select Time</label>\r\n//             <input\r\n//               type=\"time\"\r\n//               className=\"form-control\"\r\n//               value={appointmentTime}\r\n//               onChange={(e) => setAppointmentTime(e.target.value)}\r\n//               required\r\n//             />\r\n//           </div>\r\n//           <div className=\"mb-3\">\r\n//   <label className=\"form-label\">Description</label>\r\n//   <textarea\r\n//     className=\"form-control\"\r\n//     rows=\"3\"\r\n//     placeholder=\"Enter description for your booking...\"\r\n//     value={description}\r\n//     onChange={(e) => setDescription(e.target.value)}\r\n//   ></textarea>\r\n// </div>\r\n\r\n\r\n//           <button type=\"submit\" className=\"btn btn-primary\">Book Appointment</button>\r\n//         </form>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default BookingPage;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// src/pages/BookingPage.jsx\r\n// import React, { useEffect, useState } from 'react';\r\n// import { useParams, useNavigate } from 'react-router-dom';\r\n// import API from '../utils/axios';\r\n\r\n// const BookingPage = () => {\r\n//   const { providerId } = useParams();\r\n//   const navigate = useNavigate();\r\n\r\n//   const [provider, setProvider] = useState(null);\r\n//   const [loading, setLoading] = useState(true);\r\n//   const [error, setError] = useState('');\r\n//   const [appointmentDate, setAppointmentDate] = useState('');\r\n//   const [appointmentTime, setAppointmentTime] = useState('');\r\n//   const [description, setDescription] = useState('');\r\n//   const [alert, setAlert] = useState('');\r\n\r\n//   useEffect(() => {\r\n//     const fetchProvider = async () => {\r\n//       try {\r\n//         const res = await API.get(`/providers/${providerId}`);\r\n//         setProvider(res.data);\r\n//         setError('');\r\n//       } catch (err) {\r\n//         console.error(err);\r\n//         setError('Failed to load provider details');\r\n//       } finally {\r\n//         setLoading(false);\r\n//       }\r\n//     };\r\n\r\n//     fetchProvider();\r\n//   }, [providerId]);\r\n\r\n//   const handleBooking = async (e) => {\r\n//     e.preventDefault();\r\n\r\n//     if (!appointmentDate || !appointmentTime) {\r\n//       setAlert('âš ï¸ Please select a valid date and time.');\r\n//       return;\r\n//     }\r\n\r\n//     try {\r\n//       const combinedDate = new Date(`${appointmentDate}T${appointmentTime}`);\r\n//       await API.post('/bookings', {\r\n//         providerId: provider._id,\r\n//         date: combinedDate.toISOString(),\r\n//         description:  description || `Booking for ${provider.category || 'service'}`\r\n//       });\r\n\r\n//       setAlert(' Booking successful! Redirecting...');\r\n//       setTimeout(() => {\r\n//         navigate('/user/dashboard');\r\n//       }, 1000);\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       setAlert(' Failed to create booking.');\r\n//     }\r\n//   };\r\n\r\n//   if (loading) return <div className=\"container py-5\">Loading provider...</div>;\r\n//   if (error) return <div className=\"container py-5 alert alert-danger\">{error}</div>;\r\n\r\n//   return (\r\n//     <div className=\"container py-5\">\r\n//       <h2>Book an Appointment with {provider.userId?.name || 'Provider'}</h2>\r\n//       {alert && <div className=\"alert alert-info\">{alert}</div>}\r\n\r\n//       <div className=\"card shadow-sm p-4 mt-4\">\r\n//         <h5>Service: {provider.category}</h5>\r\n//         <p>Location: {provider.location}</p>\r\n//         <p>Contact: {provider.contact}</p>\r\n//         {/* <p>Description: {provider.description}</p> */}\r\n\r\n//         <form onSubmit={handleBooking}>\r\n//           {/* <div className=\"mb-3\">\r\n//             <label className=\"form-label\">Select Date</label>\r\n//             <input\r\n//               type=\"date\"\r\n//               className=\"form-control\"\r\n//               value={appointmentDate}\r\n//               onChange={(e) => setAppointmentDate(e.target.value)}\r\n//               required\r\n//             />\r\n//           </div> */}\r\n\r\n\r\n//           <div className=\"mb-3\">\r\n//   <label className=\"form-label\">Select Date</label>\r\n//   <input\r\n//     type=\"date\"\r\n//     className=\"form-control\"\r\n//     value={appointmentDate}\r\n//     onChange={(e) => setAppointmentDate(e.target.value)}\r\n//     min={new Date().toISOString().split(\"T\")[0]} // ðŸš€ Prevent selecting past dates\r\n//     required\r\n//   />\r\n// </div>\r\n\r\n\r\n//           <div className=\"mb-3\">\r\n//             <label className=\"form-label\">Select Time</label>\r\n//             <input\r\n//               type=\"time\"\r\n//               className=\"form-control\"\r\n//               value={appointmentTime}\r\n//               onChange={(e) => setAppointmentTime(e.target.value)}\r\n//               required\r\n//             />\r\n//           </div>\r\n//           <div className=\"mb-3\">\r\n//   <label className=\"form-label\">Description</label>\r\n//   <textarea\r\n//     className=\"form-control\"\r\n//     rows=\"3\"\r\n//     placeholder=\"Enter description for your booking...\"\r\n//     value={description}\r\n//     onChange={(e) => setDescription(e.target.value)}\r\n//   ></textarea>\r\n// </div>\r\n\r\n\r\n//           <button type=\"submit\" className=\"btn btn-primary\">Book Appointment</button>\r\n//         </form>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default BookingPage;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AASA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}