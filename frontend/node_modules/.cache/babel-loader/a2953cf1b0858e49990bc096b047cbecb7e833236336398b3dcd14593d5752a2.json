{"ast":null,"code":"\n\n// import React, { useEffect, useState, useMemo, useCallback } from 'react';\n// import API from '../utils/axios';\n// import Navbar from '../components/Navbar';\n\n// const ProviderDashboard = () => {\n//   const [bookings, setBookings] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState('');\n//   const [updatingId, setUpdatingId] = useState(null);\n\n//   const token = localStorage.getItem('token');\n\n//   const config = useMemo(() => ({\n//     headers: {\n//       Authorization: `Bearer ${token}`,\n//     }\n//   }), [token]);\n\n//   const fetchBookings = useCallback(async () => {\n//     try {\n//       const res = await API.get('/providers/dashboard/upcoming', config);\n//       console.log(res.data.upcomingBookings);\n//       setBookings(res.data.upcomingBookings);\n\n//     } catch (err) {\n//       console.error(err);\n//       setError('Failed to fetch bookings.');\n//     } finally {\n//       setLoading(false);\n//     }\n//   }, [config]);\n\n//   const updateStatus = async (bookingId, status) => {\n//     if (!window.confirm(`Are you sure you want to mark this as '${status}'?`)) return;\n\n//     try {\n//       setUpdatingId(bookingId);\n//       await API.put(`/bookings/${bookingId}/status`, { status }, config);\n//       fetchBookings(); // Refresh after update\n//     } catch (err) {\n//       console.error('Status update failed:', err);\n//       alert('Failed to update status');\n//     } finally {\n//       setUpdatingId(null);\n//     }\n//   };\n\n//   useEffect(() => {\n//     fetchBookings();\n//   }, [fetchBookings]);\n\n//   const getStatusBadge = (status) => {\n//     switch (status) {\n//       case 'pending': return 'badge bg-secondary';\n//       case 'confirmed': return 'badge bg-info text-dark';\n//       case 'completed': return 'badge bg-success';\n//       case 'cancelled': return 'badge bg-danger';\n//       default: return 'badge bg-dark';\n//     }\n//   };\n\n//   return (\n//     <>\n//       <Navbar role=\"provider\" />\n//       <div className=\"container py-4\">\n//         <h2 className=\"mb-4\">üìÖ Upcoming Bookings</h2>\n\n//         {loading ? (\n//           <p>Loading...</p>\n//         ) : error ? (\n//           <div className=\"alert alert-danger\">{error}</div>\n//         ) : bookings.length === 0 ? (\n//           <p>No upcoming bookings found.</p>\n//         ) : (\n//           bookings.map((booking) => (\n//             <div className=\"card mb-3 shadow-sm p-3\" key={booking._id}>\n//               <h5>üë§ {booking.userId?.name}</h5>\n//               <p>üìß {booking.userId?.email}</p>\n//               <p>üóì {new Date(booking.date).toLocaleString()}</p>\n//               <p>üìù {booking.description || 'No description provided'}</p>\n//               <p>\n//                 üìå Status:{' '}\n//                 <span className={getStatusBadge(booking.status)}>\n//                   {booking.status.toUpperCase()}\n//                 </span>\n//               </p>\n\n//               {['pending', 'confirmed'].includes(booking.status) && (\n//                 <div className=\"mt-2 d-flex gap-2 flex-wrap\">\n//                   {booking.status === 'pending' && (\n//                     <button\n//                       className=\"btn btn-primary btn-sm\"\n//                       onClick={() => updateStatus(booking._id, 'confirmed')}\n//                       disabled={updatingId === booking._id}\n//                     >\n//                       ‚úÖ Confirm\n//                     </button>\n//                   )}\n//                   <button\n//                     className=\"btn btn-success btn-sm\"\n//                     onClick={() => updateStatus(booking._id, 'completed')}\n//                     disabled={updatingId === booking._id}\n//                   >\n//                     ‚úî Mark as Completed\n//                   </button>\n//                   <button\n//                     className=\"btn btn-danger btn-sm\"\n//                     onClick={() => updateStatus(booking._id, 'cancelled')}\n//                     disabled={updatingId === booking._id}\n//                   >\n//                     ‚úñ Cancel\n//                   </button>\n//                 </div>\n//               )}\n//             </div>\n//           ))\n//         )}\n//       </div>\n//     </>\n//   );\n// };\n\n// export default ProviderDashboard;","map":{"version":3,"names":[],"sources":["C:/Users/princ/OneDrive/Desktop/NearbyHelper/frontend/src/pages/ProviderDashboard.jsx"],"sourcesContent":["\r\n\r\n// import React, { useEffect, useState, useMemo, useCallback } from 'react';\r\n// import API from '../utils/axios';\r\n// import Navbar from '../components/Navbar';\r\n\r\n// const ProviderDashboard = () => {\r\n//   const [bookings, setBookings] = useState([]);\r\n//   const [loading, setLoading] = useState(true);\r\n//   const [error, setError] = useState('');\r\n//   const [updatingId, setUpdatingId] = useState(null);\r\n\r\n//   const token = localStorage.getItem('token');\r\n\r\n//   const config = useMemo(() => ({\r\n//     headers: {\r\n//       Authorization: `Bearer ${token}`,\r\n//     }\r\n//   }), [token]);\r\n\r\n//   const fetchBookings = useCallback(async () => {\r\n//     try {\r\n//       const res = await API.get('/providers/dashboard/upcoming', config);\r\n//       console.log(res.data.upcomingBookings);\r\n//       setBookings(res.data.upcomingBookings);\r\n\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       setError('Failed to fetch bookings.');\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   }, [config]);\r\n\r\n//   const updateStatus = async (bookingId, status) => {\r\n//     if (!window.confirm(`Are you sure you want to mark this as '${status}'?`)) return;\r\n\r\n//     try {\r\n//       setUpdatingId(bookingId);\r\n//       await API.put(`/bookings/${bookingId}/status`, { status }, config);\r\n//       fetchBookings(); // Refresh after update\r\n//     } catch (err) {\r\n//       console.error('Status update failed:', err);\r\n//       alert('Failed to update status');\r\n//     } finally {\r\n//       setUpdatingId(null);\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     fetchBookings();\r\n//   }, [fetchBookings]);\r\n\r\n//   const getStatusBadge = (status) => {\r\n//     switch (status) {\r\n//       case 'pending': return 'badge bg-secondary';\r\n//       case 'confirmed': return 'badge bg-info text-dark';\r\n//       case 'completed': return 'badge bg-success';\r\n//       case 'cancelled': return 'badge bg-danger';\r\n//       default: return 'badge bg-dark';\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <>\r\n//       <Navbar role=\"provider\" />\r\n//       <div className=\"container py-4\">\r\n//         <h2 className=\"mb-4\">üìÖ Upcoming Bookings</h2>\r\n\r\n//         {loading ? (\r\n//           <p>Loading...</p>\r\n//         ) : error ? (\r\n//           <div className=\"alert alert-danger\">{error}</div>\r\n//         ) : bookings.length === 0 ? (\r\n//           <p>No upcoming bookings found.</p>\r\n//         ) : (\r\n//           bookings.map((booking) => (\r\n//             <div className=\"card mb-3 shadow-sm p-3\" key={booking._id}>\r\n//               <h5>üë§ {booking.userId?.name}</h5>\r\n//               <p>üìß {booking.userId?.email}</p>\r\n//               <p>üóì {new Date(booking.date).toLocaleString()}</p>\r\n//               <p>üìù {booking.description || 'No description provided'}</p>\r\n//               <p>\r\n//                 üìå Status:{' '}\r\n//                 <span className={getStatusBadge(booking.status)}>\r\n//                   {booking.status.toUpperCase()}\r\n//                 </span>\r\n//               </p>\r\n\r\n//               {['pending', 'confirmed'].includes(booking.status) && (\r\n//                 <div className=\"mt-2 d-flex gap-2 flex-wrap\">\r\n//                   {booking.status === 'pending' && (\r\n//                     <button\r\n//                       className=\"btn btn-primary btn-sm\"\r\n//                       onClick={() => updateStatus(booking._id, 'confirmed')}\r\n//                       disabled={updatingId === booking._id}\r\n//                     >\r\n//                       ‚úÖ Confirm\r\n//                     </button>\r\n//                   )}\r\n//                   <button\r\n//                     className=\"btn btn-success btn-sm\"\r\n//                     onClick={() => updateStatus(booking._id, 'completed')}\r\n//                     disabled={updatingId === booking._id}\r\n//                   >\r\n//                     ‚úî Mark as Completed\r\n//                   </button>\r\n//                   <button\r\n//                     className=\"btn btn-danger btn-sm\"\r\n//                     onClick={() => updateStatus(booking._id, 'cancelled')}\r\n//                     disabled={updatingId === booking._id}\r\n//                   >\r\n//                     ‚úñ Cancel\r\n//                   </button>\r\n//                 </div>\r\n//               )}\r\n//             </div>\r\n//           ))\r\n//         )}\r\n//       </div>\r\n//     </>\r\n//   );\r\n// };\r\n\r\n// export default ProviderDashboard;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":";;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}