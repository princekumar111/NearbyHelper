{"ast":null,"code":"// import React, { useEffect, useState } from 'react';\n// import { useNavigate } from 'react-router-dom';\n// import { isLoggedIn, logout, getUserFromToken } from '../utils/auth';\n// import Navbar from '../components/Navbar';\n// import API from '../utils/axios';\n\n// const UserDashboard = () => {\n//   const [categories, setCategories] = useState([]);\n//   const [error, setError] = useState('');\n//   const user = getUserFromToken();\n//   const navigate = useNavigate(); // ðŸ‘ˆ used to redirect\n\n//   // ðŸ”’ Protect this component on mount\n//   useEffect(() => {\n//     if (!isLoggedIn()) {\n//       logout(); // clear token & redirect to /login\n//     }\n//   }, []);\n\n//   // Fetch service categories\n//   useEffect(() => {\n//     const fetchCategories = async () => {\n//       try {\n//         const res = await API.get('/categories');\n//         setCategories(res.data);\n//       } catch (err) {\n//         setError('Failed to load categories.');\n//         console.error(err);\n//       }\n//     };\n\n//     fetchCategories();\n//   }, []);\n\n//   // Handle \"Book\" button click\n//   const handleBookClick = (categoryName) => {\n//     navigate(`/providers/${categoryName.toLowerCase()}`);\n//   };\n\n//   return (\n//     <>\n//       <Navbar role=\"user\" />\n//       <div className=\"container py-5\">\n//         <h2>Welcome, {user?.name || 'User'}!</h2>\n//         {error && <div className=\"alert alert-danger\">{error}</div>}\n\n//         <h4 className=\"mt-4\">Browse Services</h4>\n//         <div className=\"row mt-3\">\n//           {categories.length > 0 ? (\n//             categories.map((cat) => (\n//               <div className=\"col-md-4 mb-4\" key={cat._id}>\n//                 <div className=\"card p-3 shadow-sm text-center h-100 d-flex flex-column justify-content-between\">\n//                   <div>\n//                     <div className=\"display-4\">{cat.icon || 'ðŸ”§'}</div>\n//                     <h5 className=\"mt-2\">{cat.name}</h5>\n//                   </div>\n//                   <button\n//                     className=\"btn btn-primary mt-3\"\n//                     onClick={() => handleBookClick(cat.name)}\n//                   >\n//                     View Worker\n//                   </button>\n//                 </div>\n//               </div>\n//             ))\n//           ) : (\n//             <p className=\"text-muted\">No categories available.</p>\n//           )}\n//         </div>\n//       </div>\n//     </>\n//   );\n// };\n\n// export default UserDashboard;","map":{"version":3,"names":[],"sources":["C:/Users/princ/OneDrive/Desktop/NearbyHelper/frontend/src/pages/UserDashboard.jsx"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\r\n// import { useNavigate } from 'react-router-dom';\r\n// import { isLoggedIn, logout, getUserFromToken } from '../utils/auth';\r\n// import Navbar from '../components/Navbar';\r\n// import API from '../utils/axios';\r\n\r\n// const UserDashboard = () => {\r\n//   const [categories, setCategories] = useState([]);\r\n//   const [error, setError] = useState('');\r\n//   const user = getUserFromToken();\r\n//   const navigate = useNavigate(); // ðŸ‘ˆ used to redirect\r\n\r\n//   // ðŸ”’ Protect this component on mount\r\n//   useEffect(() => {\r\n//     if (!isLoggedIn()) {\r\n//       logout(); // clear token & redirect to /login\r\n//     }\r\n//   }, []);\r\n\r\n//   // Fetch service categories\r\n//   useEffect(() => {\r\n//     const fetchCategories = async () => {\r\n//       try {\r\n//         const res = await API.get('/categories');\r\n//         setCategories(res.data);\r\n//       } catch (err) {\r\n//         setError('Failed to load categories.');\r\n//         console.error(err);\r\n//       }\r\n//     };\r\n\r\n//     fetchCategories();\r\n//   }, []);\r\n\r\n//   // Handle \"Book\" button click\r\n//   const handleBookClick = (categoryName) => {\r\n//     navigate(`/providers/${categoryName.toLowerCase()}`);\r\n//   };\r\n\r\n//   return (\r\n//     <>\r\n//       <Navbar role=\"user\" />\r\n//       <div className=\"container py-5\">\r\n//         <h2>Welcome, {user?.name || 'User'}!</h2>\r\n//         {error && <div className=\"alert alert-danger\">{error}</div>}\r\n\r\n//         <h4 className=\"mt-4\">Browse Services</h4>\r\n//         <div className=\"row mt-3\">\r\n//           {categories.length > 0 ? (\r\n//             categories.map((cat) => (\r\n//               <div className=\"col-md-4 mb-4\" key={cat._id}>\r\n//                 <div className=\"card p-3 shadow-sm text-center h-100 d-flex flex-column justify-content-between\">\r\n//                   <div>\r\n//                     <div className=\"display-4\">{cat.icon || 'ðŸ”§'}</div>\r\n//                     <h5 className=\"mt-2\">{cat.name}</h5>\r\n//                   </div>\r\n//                   <button\r\n//                     className=\"btn btn-primary mt-3\"\r\n//                     onClick={() => handleBookClick(cat.name)}\r\n//                   >\r\n//                     View Worker\r\n//                   </button>\r\n//                 </div>\r\n//               </div>\r\n//             ))\r\n//           ) : (\r\n//             <p className=\"text-muted\">No categories available.</p>\r\n//           )}\r\n//         </div>\r\n//       </div>\r\n//     </>\r\n//   );\r\n// };\r\n\r\n// export default UserDashboard;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}