{"ast":null,"code":"// utils/auth.js\n\nexport const isLoggedIn = () => {\n  const token = localStorage.getItem('token');\n  if (!token) return false;\n  try {\n    const {\n      exp\n    } = JSON.parse(atob(token.split('.')[1]));\n    if (Date.now() >= exp * 1000) {\n      localStorage.removeItem('token');\n      return false;\n    }\n    return true;\n  } catch {\n    return false;\n  }\n};\nexport const getUserFromToken = () => {\n  try {\n    const token = localStorage.getItem('token');\n    if (!token) return null;\n    const payload = JSON.parse(atob(token.split('.')[1]));\n    return payload;\n  } catch (err) {\n    return null;\n  }\n};\nexport const logout = () => {\n  localStorage.removeItem('token');\n  window.location.href = '/login'; // You can change the redirect path if needed\n};","map":{"version":3,"names":["isLoggedIn","token","localStorage","getItem","exp","JSON","parse","atob","split","Date","now","removeItem","getUserFromToken","payload","err","logout","window","location","href"],"sources":["C:/Users/princ/OneDrive/Desktop/NearbyHelper/frontend/src/utils/auth.js"],"sourcesContent":["// utils/auth.js\r\n\r\nexport const isLoggedIn = () => {\r\n  const token = localStorage.getItem('token');\r\n  if (!token) return false;\r\n\r\n  try {\r\n    const { exp } = JSON.parse(atob(token.split('.')[1]));\r\n    if (Date.now() >= exp * 1000) {\r\n      localStorage.removeItem('token');\r\n      return false;\r\n    }\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const getUserFromToken = () => {\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return null;\r\n    const payload = JSON.parse(atob(token.split('.')[1]));\r\n    return payload;\r\n  } catch (err) {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const logout = () => {\r\n  localStorage.removeItem('token');\r\n  window.location.href = '/login'; // You can change the redirect path if needed\r\n};\r\n"],"mappings":"AAAA;;AAEA,OAAO,MAAMA,UAAU,GAAGA,CAAA,KAAM;EAC9B,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAI,CAACF,KAAK,EAAE,OAAO,KAAK;EAExB,IAAI;IACF,MAAM;MAAEG;IAAI,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACN,KAAK,CAACO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,IAAIC,IAAI,CAACC,GAAG,CAAC,CAAC,IAAIN,GAAG,GAAG,IAAI,EAAE;MAC5BF,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;MAChC,OAAO,KAAK;IACd;IACA,OAAO,IAAI;EACb,CAAC,CAAC,MAAM;IACN,OAAO,KAAK;EACd;AACF,CAAC;AAED,OAAO,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EACpC,IAAI;IACF,MAAMX,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE,OAAO,IAAI;IACvB,MAAMY,OAAO,GAAGR,IAAI,CAACC,KAAK,CAACC,IAAI,CAACN,KAAK,CAACO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,OAAOK,OAAO;EAChB,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZ,OAAO,IAAI;EACb;AACF,CAAC;AAED,OAAO,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAC1Bb,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;EAChCK,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ,CAAC,CAAC;AACnC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}